<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>WhatsApp & Telegram UI Clone</title>
<style>
  /* Reset and base */
  * {
    box-sizing: border-box;
  }
  body, html {
    margin:0; padding:0; height: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #ECE5DD;
    color: #111;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
  }
  #app {
    display: flex;
    max-width: 350px;
    height: 600px;
    margin: 0 auto;
    border: 1px solid #ddd;
    background: white;
  }
  /* Sidebar */
  #sidebar {
    width: 110px;
    background: #f8f9fa;
    border-right: 1px solid #ddd;
    display: flex;
    flex-direction: column;
  }
  #sidebar header {
    height: 60px;
    background: #075E54;
    color: white;
    font-weight: 700;
    font-size: 1.3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select:none;
  }
  #contacts {
    flex: 1;
    overflow-y: auto;
    padding-top: 10px;
  }
  #contacts::-webkit-scrollbar {
    width: 6px;
  }
  #contacts::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 10px;
  }
  .contact {
    display: flex;
    align-items: center;
    padding: 8px 8px;
    cursor: pointer;
    border-radius: 8px;
    margin: 5px 8px;
    transition: background-color 0.2s ease;
  }
  .contact:hover {
    background: #ebf1f0;
  }
  .contact.active {
    background: #dcf8c6;
  }
  .contact .avatar {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: #bbb;
    margin-right: 10px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: white;
    font-size: 1.2rem;
    user-select:none;
  }
  .contact .info {
    flex: 1;
  }
  .contact .info .name {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 2px;
  }
  .contact .info .last-message {
    font-size: 0.8rem;
    color: #65676b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .contact .time {
    font-size: 0.75rem;
    color: #999;
  }

  /* Chat panel */
  #chat {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #fff;
  }
  #chat-header {
    height: 60px;
    border-bottom: 1px solid #ddd;
    padding: 10px 15px;
    display: flex;
    align-items: center;
    background: #f0f2f5;
  }
  #chat-header .avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: #bbb;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: white;
    font-size: 1.4rem;
    user-select:none;
    margin-right: 12px;
    flex-shrink: 0;
  }
  #chat-header .user-info {
    flex: 1;
  }
  #chat-header .user-info .name {
    font-weight: 700;
    font-size: 1.1rem;
    line-height: 1;
  }
  #chat-header .user-info .status {
    font-size: 0.8rem;
    color: #777;
  }

  /* Chat messages container */
  #messages {
    flex: 1;
    background: #ece5dd;
    padding: 15px;
    overflow-y: auto;
    font-size: 0.9rem;
  }
  #messages::-webkit-scrollbar {
    width: 6px;
  }
  #messages::-webkit-scrollbar-thumb {
    background: #c4c4c4;
    border-radius: 10px;
  }
  .message {
    max-width: 75%;
    margin-bottom: 15px;
    line-height: 1.3;
    word-break: break-word;
    position: relative;
    clear: both;
  }
  .message.received {
    background: white;
    color: #111;
    padding: 8px 15px;
    border-radius: 0 15px 15px 15px;
    float: left;
  }
  .message.sent {
    background: #dcf8c6;
    color: #111;
    padding: 8px 15px;
    border-radius: 15px 0 15px 15px;
    float: right;
    text-align: right;
  }
  .message .time {
    font-size: 0.6rem;
    color: #999;
    margin-top: 2px;
  }
  /* Clear float fix */
  #messages::after {
    content: "";
    display: block;
    clear: both;
  }

  /* Chat input area */
  #input-area {
    height: 58px;
    background: #f0f2f5;
    border-top: 1px solid #ddd;
    padding: 8px 15px;
    display: flex;
    align-items: center;
  }
  #input-area input[type="text"] {
    flex: 1;
    height: 40px;
    padding: 0 12px;
    border: none;
    border-radius: 20px;
    font-size: 1rem;
    outline: none;
    background: white;
    box-shadow: inset 0 0 5px #ccc;
  }
  #input-area button {
    background: #075E54;
    border: none;
    color: white;
    font-size: 1.4rem;
    margin-left: 8px;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.25s ease;
  }
  #input-area button:hover {
    background: #0a805b;
  }

  /* Emoji icon inside input */
  #input-area .emoji-btn {
    background: transparent;
    color: #666;
    margin-left: 5px;
    font-size: 1.4rem;
    width: 36px;
    cursor: pointer;
    border-radius: 50%;
    border: none;
    outline: none;
    transition: background-color 0.25s ease;
  }
  #input-area .emoji-btn:hover {
    background: #ddd;
  }

  /* Responsive */
  @media (max-width: 350px) {
    #app {
      width: 100vw;
      height: 600px;
      border: none;
    }
  }
</style>
</head>
<body>
<div id="app" role="main" aria-label="Chat application UI clone">
  <aside id="sidebar" aria-label="Contacts sidebar">
    <header>Chat</header>
    <div id="contacts" role="list" aria-label="Contact list">
      <div class="contact active" role="listitem" tabindex="0" data-id="1">
        <div class="avatar" aria-hidden="true">A</div>
        <div class="info">
          <div class="name">Alice</div>
          <div class="last-message">Hey, are you coming?</div>
        </div>
        <div class="time" aria-label="Last message time">9:45 AM</div>
      </div>
      <div class="contact" role="listitem" tabindex="0" data-id="2">
        <div class="avatar" aria-hidden="true">B</div>
        <div class="info">
          <div class="name">Bob</div>
          <div class="last-message">Let's meet tomorrow</div>
        </div>
        <div class="time" aria-label="Last message time">Yesterday</div>
      </div>
      <div class="contact" role="listitem" tabindex="0" data-id="3">
        <div class="avatar" aria-hidden="true">C</div>
        <div class="info">
          <div class="name">Charlie</div>
          <div class="last-message">Sent the files</div>
        </div>
        <div class="time" aria-label="Last message time">Mon</div>
      </div>
      <div class="contact" role="listitem" tabindex="0" data-id="4">
        <div class="avatar" aria-hidden="true">D</div>
        <div class="info">
          <div class="name">Diana</div>
          <div class="last-message">Thanks!</div>
        </div>
        <div class="time" aria-label="Last message time">Sun</div>
      </div>
    </div>
  </aside>
  <section id="chat" aria-label="Chat window">
    <header id="chat-header">
      <div class="avatar" aria-hidden="true">A</div>
      <div class="user-info" aria-label="Chat user info">
        <div class="name">Alice</div>
        <div class="status">online</div>
      </div>
    </header>
    <main id="messages" aria-live="polite" aria-relevant="additions" tabindex="0">
      <div class="message received" role="article" aria-label="Message from Alice at 9:42 AM">
        Hi! Are you free today?
        <div class="time">9:42 AM</div>
      </div>
      <div class="message sent" role="article" aria-label="Your message at 9:43 AM">
        Yes, I am. What's up?
        <div class="time">9:43 AM</div>
      </div>
      <div class="message received" role="article" aria-label="Message from Alice at 9:44 AM">
        Let's catch up at 5 PM.
        <div class="time">9:44 AM</div>
      </div>
      <div class="message sent" role="article" aria-label="Your message at 9:45 AM">
        Sounds good! See you then.
        <div class="time">9:45 AM</div>
      </div>
    </main>
    <form id="input-area" aria-label="Send a message">
      <button type="button" class="emoji-btn" title="Emoji picker" aria-label="Insert emoji">&#x1F642;</button>
      <input type="text" placeholder="Type a message" aria-label="Message input" autocomplete="off" id="message-input" />
      <button type="submit" title="Send message" aria-label="Send message">&#10148;</button>
    </form>
  </section>
</div>
<script>
  (() => {
    // Simulated chat messages per contact id
    const chatData = {
      1: [ // Alice
        {text: "Hi! Are you free today?", sender: "received", time: "9:42 AM"},
        {text: "Yes, I am. What's up?", sender: "sent", time: "9:43 AM"},
        {text: "Let's catch up at 5 PM.", sender: "received", time: "9:44 AM"},
        {text: "Sounds good! See you then.", sender: "sent", time: "9:45 AM"},
      ],
      2: [ // Bob
        {text: "Are you coming tomorrow?", sender: "received", time: "Yesterday"},
        {text: "I will be there!", sender: "sent", time: "Yesterday"},
      ],
      3: [ // Charlie
        {text: "Sent the files via email.", sender: "received", time: "Mon"},
      ],
      4: [ // Diana
        {text: "Thanks for your help!", sender: "received", time: "Sun"},
        {text: "No problem, anytime!", sender: "sent", time: "Sun"},
      ],
    };

    // Elements
    const contacts = document.querySelectorAll(".contact");
    const chatAvatar = document.querySelector("#chat-header .avatar");
    const chatName = document.querySelector("#chat-header .user-info .name");
    const chatStatus = document.querySelector("#chat-header .user-info .status");
    const messagesContainer = document.getElementById("messages");
    const inputForm = document.getElementById("input-area");
    const inputField = document.getElementById("message-input");

    let currentContactId = 1;

    // Render messages for selected contact
    function renderMessages(contactId) {
      messagesContainer.innerHTML = "";
      const chats = chatData[contactId] || [];
      chats.forEach(({text, sender, time}) => {
        const msgDiv = document.createElement("div");
        msgDiv.className = "message " + sender;
        msgDiv.setAttribute("role", "article");
        msgDiv.setAttribute("aria-label", (sender==="sent" ? "Your message" : "Message from "+chatName.textContent) + " at " + time);
        msgDiv.textContent = text;

        const timeDiv = document.createElement("div");
        timeDiv.className = "time";
        timeDiv.textContent = time;
        msgDiv.appendChild(timeDiv);

        messagesContainer.appendChild(msgDiv);
      });
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    // Update chat header and messages
    function updateChat(contactEl) {
      contacts.forEach(c => c.classList.remove("active"));
      contactEl.classList.add("active");

      const contactId = contactEl.getAttribute("data-id");
      currentContactId = contactId;

      const avatarLetter = contactEl.querySelector(".avatar").textContent;
      chatAvatar.textContent = avatarLetter;

      const name = contactEl.querySelector(".name").textContent;
      chatName.textContent = name;

      // For demo, set all online except last contact offline
      chatStatus.textContent = contactId === "4" ? "offline" : "online";

      renderMessages(contactId);
    }

    // Handle contact click
    contacts.forEach(contact => {
      contact.addEventListener("click", () => {
        updateChat(contact);
      });
      contact.addEventListener("keydown", e => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          updateChat(contact);
        }
      });
    });

    // Handle sending message
    inputForm.addEventListener("submit", e => {
      e.preventDefault();
      const text = inputField.value.trim();
      if(text.length === 0) return;

      if(!chatData[currentContactId]) {
        chatData[currentContactId] = [];
      }

      const now = new Date();
      const timeStr = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});

      // Add new sent message
      chatData[currentContactId].push({text, sender:"sent", time: timeStr});

      renderMessages(currentContactId);

      // Clear input
      inputField.value = "";
      inputField.focus();
    });

    // Initialize with first contact selected
    updateChat(document.querySelector(".contact.active"));

  })();
</script>
</body>
</html>

